sap.ui.define(["sap/ui/core/util/MockServer","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";var t,r="com/esweckert/demo-transfer-app/",n=r+"localService/data";function s(e){let t;jQuery.ajax({url:e,async:false,dataType:"json",success(e){t=e}});return t}return{init:function(){var r="/sap/opu/odata/sap/ZMM_DEMO_TRANSFER_SRV/";t=new e({rootUri:r});var n=sap.ui.require.toUrl("com/esweckert/demo-transfer-app/localService");e.config({autoRespond:true,autoRespondAfter:500});t.simulate(n+"/metadata.xml",{sMockdataBaseUrl:n+"/data",bGenerateMissingMockData:true});const o=s(n+"/response/ODataErrorResponseTemplate.json");const a=s(n+"/response/SAP-Message-Header.json");const i=s(n+"/data/ProductSet.json");const c=t.getRequests();function d(e){const t=[];if(e.subsidary==="SE"){t.push({code:"E:101",message:"Products from Sweden can not be transfered anymore!",propertyref:"",severity:"error",target:"/ProductSet"})}return t}function p(e){e.response=function(e){const t=JSON.parse(e.requestBody);const r=d(t);if(r.length){o.error.innererror.errordetails=r;e.respond(500,{"Content-Type":"application/json"},JSON.stringify(o))}else{i.d.articles=t.articles;i.d.subsidary=t.subsidary;i.d.articleKind=t.articleKind;i.d.legacyProdid=t.legacyProdid;i.d.creatatCheck=t.creatatCheck;i.d.noArticles=t.articles.split(",").length;e.respond(200,{"Content-Type":"application/json","sap-message":JSON.stringify(a)},JSON.stringify(i))}}}function u(e){e.response=function(e){e.respond(200,{"Content-Type":"application/json"},JSON.stringify(i))}}c.forEach(e=>{if(e.method==="GET"&&e.path.toString().includes("ProductSet")){u(e)}else if(e.method==="POST"&&e.path.toString().includes("ProductSet")){p(e)}});t.start();jQuery.sap.log.info("Running the app with mock data")},getMockServer:function(){return t}}});
//# sourceMappingURL=mockserver.js.map